<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=https://deb.staker.ltd/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://deb.staker.ltd/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><link rel=stylesheet href=https://deb.staker.ltd/main.453a350812256bbef1457fc395770d8c3d09a33381ef25bb3877bd3135475ede.css integrity="sha256-RTo1CBIla77xRX/DlXcNjD0JozOB7yW7OHe9MTVHXt4=" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Install ZFS Packages - DEB Repository</title><meta name=description content="Instructions on how to install our ZFS packages."><link rel=canonical href=https://deb.staker.ltd/docs/intro/install-zfs/><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/android-chrome-512x512.png"><meta name=twitter:title content="Install ZFS Packages"><meta name=twitter:description content="Instructions on how to install our ZFS packages."><meta name=twitter:site content="@MrStakerLTD"><meta name=twitter:creator content="@MrStakerLTD"><meta property="og:title" content="Install ZFS Packages"><meta property="og:description" content="Instructions on how to install our ZFS packages."><meta property="og:type" content="article"><meta property="og:url" content="/docs/intro/install-zfs/"><meta property="og:image" content="/android-chrome-512x512.png"><meta property="article:published_time" content="2020-10-06T08:48:57+00:00"><meta property="article:modified_time" content="2020-10-06T08:48:57+00:00"><meta property="og:site_name" content="DEB Repository"><meta property="article:publisher" content="https://www.facebook.com/MrStakerLTD"><meta property="article:author" content="https://www.facebook.com/MrStakerLTD"><meta property="og:locale" content="en_GB"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/deb.staker.ltd\/"},{"@type":"ListItem","position":3,"name":"Docs","item":"https:\/\/deb.staker.ltd\/\/docs\/"},{"@type":"ListItem","position":4,"name":"Intro","item":"https:\/\/deb.staker.ltd\/\/docs\/intro\/"},{"@type":"ListItem","position":5,"name":"Install Zfs","item":"https:\/\/deb.staker.ltd\/\/docs\/intro\/install-zfs\/"}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://deb.staker.ltd/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://deb.staker.ltd/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://deb.staker.ltd/favicon-16x16.png><link rel=manifest href=https://deb.staker.ltd/site.webmanifest></head><body class="docs single"><div class="header-bar fixed-top"></div><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container><input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label>
<a class="navbar-brand order-1 order-md-0 me-auto" href=https://mr.staker.ltd>Mr Staker <img src=https://deb.staker.ltd/favicon-32x32.png alt=Logo></a><div class="navbar-nav order-1 order-md-0"><a class=nav-link href=https://deb.staker.ltd/>DEB Repository</a></div><button id=mode class="btn btn-link order-2 order-md-4" type=button aria-label="Toggle mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button><ul class="navbar-nav social-nav order-3 order-md-5"><li class=nav-item><a class=nav-link href=https://twitter.com/MrStakerLTD><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg><span class="ms-2 visually-hidden">Twitter</span></a></li><li class=nav-item><a class=nav-link href=https://github.com/mr-staker><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><span class="ms-2 visually-hidden">GitHub</span></a></li><li class=nav-item><a class=nav-link href=mailto:hello@mr.staker.ltd><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentcolor" viewBox="0 0 16 16" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M0 4a2 2 0 012-2h12a2 2 0 012 2v8a2 2 0 01-2 2H2a2 2 0 01-2-2V4zm2-1A1 1 0 001 4v.217l7 4.2 7-4.2V4a1 1 0 00-1-1H2zm13 2.383-4.758 2.855L15 11.114v-5.73zm-.034 6.878L9.271 8.82 8 9.583 6.728 8.82l-5.694 3.44A1 1 0 002 13h12a1 1 0 00.966-.739zM1 11.114l4.758-2.876L1 5.383v5.73z"/></svg><span class="ms-2 visually-hidden">Email</span></a></li></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav me-auto order-5 order-md-2"></ul><div class="break order-6 d-md-none"></div><form class="navbar-form flex-grow-1 order-7 order-md-3"><input id=userinput class="form-control is-search" type=search placeholder=Search aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded"></div></form></div></div></header><div class="wrap container" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav class=docs-links aria-label="Main navigation"><h3>Intro</h3><ul class=list-unstyled><li><a class=docs-link href=https://deb.staker.ltd/docs/intro/install-repository/>Install Repository</a></li><li><a class=docs-link href=https://deb.staker.ltd/docs/intro/install-elrond/>Install Elrond Packages</a></li><li><a class="docs-link active" href=https://deb.staker.ltd/docs/intro/install-zfs/>Install ZFS Packages</a></li><li><a class=docs-link href=https://deb.staker.ltd/docs/intro/install-miscellaneous-packages/>Install Miscellaneous Packages</a></li><li><a class=docs-link href=https://deb.staker.ltd/docs/intro/uninstall-repository/>Uninstall Repository</a></li></ul><h3>Advanced Topics</h3><ul class=list-unstyled><li><a class=docs-link href=https://deb.staker.ltd/docs/advanced-topics/signing-key-rotation/>Signing Key Rotation</a></li><li><a class=docs-link href=https://deb.staker.ltd/docs/advanced-topics/package-signature-validation/>Package Signature Validation</a></li><li><a class=docs-link href=https://deb.staker.ltd/docs/advanced-topics/infrastructure/>Infrastructure</a></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#zfs>ZFS</a></li><li><a href=#supported-distributions>Supported distributions</a></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9"><h1>Install ZFS Packages</h1><p class=lead>Instructions on how to install our ZFS packages.</p><h2 id=zfs>ZFS<a href=#zfs class=anchor aria-hidden=true>#</a></h2><p>ZFS is a centrepiece on our storage design. BtrFS is not there yet. Our packages provide support for OpenZFS v2 as our supported Ubuntu 20.04 lacks any v2 support i.e the packages which are part of the distribution repositories are still the old 0.8.x ZFS on Linux, so they are missing the improvements made since ZoL merged with OpenZFS.</p><p>The package builds themselves are driven by the OpenZFS make targets, so our changes include:</p><ul><li>Properly set package metadata, including defined package dependencies as the native build task converts them from rpm and it loses important information.</li><li>Package signatures as part of our publishing process.</li></ul><p>The installation is straightforward:</p><pre><code class=language-bash>sudo apt install zfs zfs-dkms
</code></pre><p><code>zfs-dkms</code> builds the actual kernel module for the ZFS driver. Note that on the first run, the <code>zfs</code> module is not automatically loaded, therefore, it needs to be manually loaded:</p><pre><code class=language-bash>sudo modprobe zfs
</code></pre><h2 id=supported-distributions>Supported distributions<a href=#supported-distributions class=anchor aria-hidden=true>#</a></h2><p>Our builds were made under Ubuntu 20.04. Support for other related Debian-derrivatives may be limited in case of glibc mismatch. This is built against libc6 2.31-0ubuntu9.3.</p><p>This is not an issue with the kernel modules as this is delivered as dkms package and the modules are built on each machine based on the installed kernel. This may be an issue for the supporting tooling (zpool, zfs, etc).</p><div class="docs-navigation d-flex justify-content-between"><a href=https://deb.staker.ltd/docs/intro/install-elrond/><div class="card my-1"><div class="card-body py-2">&larr; Install Elrond Packages</div></div></a><a class=ms-auto href=https://deb.staker.ltd/docs/intro/install-miscellaneous-packages/><div class="card my-1"><div class="card-body py-2">Install Miscellaneous Packages &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Powered by <a href=https://gohugo.io/>Hugo</a> and <a href=https://getdoks.org/>Doks</a></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline><li class=list-inline-item>Â© Mr Staker</li></ul></div></div></div></footer><script src=https://deb.staker.ltd/js/highlight.min.6d508100089e1a7319941f689bd7d889e40189e9d41e20293e63fbd72f7a8e76.js integrity="sha256-bVCBAAieGnMZlB9om9fYieQBienUHiApPmP71y96jnY=" crossorigin=anonymous defer></script>
<script src=https://deb.staker.ltd/main.min.c30cfba49df1745cc2169e5e9709e950cf2925fedd77f2903dabc5ae4faec838.js integrity="sha256-wwz7pJ3xdFzCFp5elwnpUM8pJf7dd/KQPavFrk+uyDg=" crossorigin=anonymous defer></script>
<script src=https://deb.staker.ltd/index.min.7be0ad6b2d7540d890ab878288ccbf302d6a58f0d117c0d0e0cf2d7423ec6e64.js integrity="sha256-e+Ctay11QNiQq4eCiMy/MC1qWPDRF8DQ4M8tdCPsbmQ=" crossorigin=anonymous defer></script>
<script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "50235f9d4a154465a12d83d395f4f981"}'></script></body></html>